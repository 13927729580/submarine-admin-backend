<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.htnova.system.mapper.DictionaryItemMapper">

    <sql id="SelectColumns">
        a.id,
        a.dictionary_id,
        a.label,
        a.value,
        a.sort,
        a.remark,
        a.create_by,
        a.create_time,
        a.update_by,
        a.update_time,
        a.del_flag
    </sql>

    <!--列表查询-->
    <sql id="findList">
        SELECT
            <include refid="SelectColumns"/>
        FROM dictionary_item a WHERE a.del_flag = #{dictionaryItemDto.delFlag}
        <if test="dictionaryItemDto.id != null and dictionaryItemDto.id != ''">
            AND a.id = #{dictionaryItemDto.id}
        </if>
        <if test="dictionaryItemDto.dictionaryId != null and dictionaryItemDto.dictionaryId != ''">
            AND a.dictionary_id = #{dictionaryItemDto.dictionaryId}
        </if>
        <if test="dictionaryItemDto.label != null and dictionaryItemDto.label != ''">
            AND a.label LIKE concat('%',#{dictionaryItemDto.label},'%')
        </if>
        <if test="dictionaryItemDto.value != null and dictionaryItemDto.value != ''">
            AND a.value LIKE concat('%',#{dictionaryItemDto.value},'%')
        </if>
        <if test="dictionaryItemDto.sort != null and dictionaryItemDto.sort != ''">
            AND a.sort = #{dictionaryItemDto.sort}
        </if>
        <if test="dictionaryItemDto.remark != null and dictionaryItemDto.remark != ''">
            AND a.remark = #{dictionaryItemDto.remark}
        </if>
        <if test="dictionaryItemDto.createBy != null and dictionaryItemDto.createBy != ''">
            AND a.create_by = #{dictionaryItemDto.createBy}
        </if>
        <if test="dictionaryItemDto.createTime != null">
            AND a.create_time = #{dictionaryItemDto.createTime}
        </if>
        <if test="dictionaryItemDto.updateBy != null and dictionaryItemDto.updateBy != ''">
            AND a.update_by = #{dictionaryItemDto.updateBy}
        </if>
        <if test="dictionaryItemDto.updateTime != null">
            AND a.update_time = #{dictionaryItemDto.updateTime}
        </if>
    </sql>

    <!--分页查询-->
    <select id="findPage" resultType="DictionaryItem">
        <include refid="findList"/>
    </select>

    <!--列表查询-->
    <select id="findList" resultType="DictionaryItem">
        <include refid="findList"/>
    </select>

</mapper>
